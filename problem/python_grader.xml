<problem title="Embedded Code Box" display_name="" graceperiod="18000 seconds" markdown="null" rerandomize="never" showanswer="always" start="2013-02-05T00:00:00Z" xqa_key="qaijS3UatK020Wc0sfCtFe0V6jpB4d64">
  <text>
    <p> Nous cherchons le plus petit  paiement mensuel tel que nous pouvons payer la somme entière d'un prêt en un an.</p>
    <p> Les valeurs suivantes peuvent être utiles lorsque vous écrivez votre solution</p>
    <blockquote>
      <p><strong>Intérêt mensuel</strong>
= (Intérêt annuel) / 12<br/>
<strong>Plus petit paiement mensuel</strong>
= Somme restante à payer / 12<br/>

<strong>Plus gros paiement mensuel</strong> = (Somme restante à payer x
        (1 + Intérêt mensuel)<sup>12</sup>) / 12
</p>
    </blockquote>
    <p>Les variables suivantes contiennent des valeurs décrites de la manière suivante:</p>
    <ol>
      <li>
        <p><code>balance</code> - la somme restante sur la carte de crédit</p>
      </li>
      <li>
        <p><code>annualInterestRate</code> - le taux d'intérêt annuel</p>
      </li>
    </ol>
    <p>Écrivez un programme qui utilise ces limites et la recherche binaire (pour plus d'info voir<a href="http://en.wikipedia.org/wiki/Bisection_method" target="_blank">la page Wikipedia sur la recherche binaire</a>)
        pour obtenir le paiement mensuel <em>au cent près</em>
        tel que vous pouvez payer totalement
        la dette en un an.</p>
    <p>Notez que si vous n'utilisez pas la recherche binaire, votre code ne marchera pas - votre code a seulement 30 secondes pour marcher sur nos serveurs. Si vous obtenez un message qui mentionne "Votre soumission n'a pas pu être notée. Veuillez revoire votre soumission et essayez à nouveau. Si le problème persite, veuillez notifier un membre de l'équipe du cours.", vérifiez pour être sûr que votre code ne prenne pas trop longtemps à s'executer.</p>
    <p>Le code que vous allez coller dans la boite suivante ne doit pas spécifier de valeur pour les variables <code>balance</code> ou <code>annualInterestRate</code> - notre code de test va définir ces valeurs avant execution. </p>
  </text>
  <coderesponse>
    <textbox rows="10" cols="70" mode="python" tabsize="4"/>
    <codeparam>
      <initial_display/>
      <answer_display>
monthlyInterestRate = annualInterestRate/12
lowerBound = balance/12
upperBound = (balance * (1+annualInterestRate/12)**12)/12
originalBalance = balance

# Keep testing new payment values 
#  until the balance is +/- $0.02
while abs(balance) &gt; .02:
    # Reset the value of balance to its original value
    balance = originalBalance
    # Calculate a new monthly payment value from the bounds
    payment = (upperBound - lowerBound)/2 + lowerBound

    # Test if this payment value is sufficient to pay off the 
    #  entire balance in 12 months
    for month in range(12):
        balance -= payment
        balance *= 1+monthlyInterestRate

    # Reset bounds based on the final value of balance
    if balance &gt; 0: 
        # If the balance is too big, need higher payment
    #  so we increase the lower bound
        lowerBound = payment
    else:
        # If the balance is too small, we need a lower
    #  payment, so we decrease the upper bound
        upperBound = payment

# When the while loop terminates, we know we have 
#  our answer!
print "Lowest Payment:", round(payment, 2)
</answer_display>
      <grader_payload>
{"grader": "ps02/bisect/grade_bisect.py"}
</grader_payload>
    </codeparam>
  </coderesponse>
  <text>
    <div>
      <b>Remarque:</b>
      <p>En fonction d'où ou d'à quelle fréquence, vous allez arrondir cette fonction, vos réponses peuvent être inexactes à quelques cents près en plus ou en moins. Essayez d'arrondir le moins possible de manière à avoir un résultat plus exact de votre résultat. </p>
    </div>
    <section class="hints">
      <h3>Hints</h3>
      <div class="collapsible">
        <header>
          <a href="#" id="ht3l">Batterie de Tests pour tester votre code. Faites en sorte de faire cette batterie de test sur votre machine locale - 
    et que vous avez le même résultat! - avant de l'essayer sur cette page web! </a>
        </header>
        <section id="ht3">
          <p><b>Remarque:</b> Les tests automatiques sont assez souples. Si votre réponse est inexacte en plus ou en moins, votre code sera considéré comme Ok! </p>
          <p>Test Cases:</p>
          <p>
            <pre>
              <code>
      Test Case 1:
      balance = 320000
      annualInterestRate = 0.2

      Result Your Code Should Generate:
      -------------------
      Lowest Payment: 29157.09
</code>
            </pre>
          </p>
          <p>
            <pre>
              <code>
      Test Case 2:
      balance = 999999
      annualInterestRate = 0.18

      Result Your Code Should Generate:
      -------------------
      Lowest Payment: 90325.07
</code>
            </pre>
          </p>
        </section>
      </div>
      <div class="collapsible">
        <header>
          <a href="#" id="ht4">The autograder says, "Your submission could not be graded." Help!</a>
        </header>
        <section id="ht4">
          <p> If the autograder gives you the following message:</p>
          <pre>
Your submission could not be graded.
Please recheck your submission and try again. If the problem persists, please notify the course staff.
      </pre>
          <p>Don't panic! There are a few things that might be wrong with your code that you should 
        check out. The number one reason this message appears is because your code timed out.
        You only get 30 seconds of computation time on our servers. If your code times out,
        you probably have an infinite loop. What to do?</p>
          <p>The number 1 thing to do is that you need to run this code in your own local 
        environment. Your code should print one line at the end of the loop. If your code never prints anything
        out - you have an infinite loop!</p>
          <p>To debug your infinite loop - check your loop conditional. When will it stop? 
        Try inserting print statements inside your loop that prints out information (like variables) - are you
        incrementing or decrementing your loop counter correctly?
        Search the forum for people with similar issues. If your search turns up nothing, 
        make a new post and paste in your loop conditional for others to help you out with.</p>
          <p>Please don't email the course staff unless your code legitimately works and prints out the
        correct answers in your local environment. In that case, please email your code file,
        a screenshot of the code printing out the correct answers in your local environment,
        and a screenshot of the exact same code not working on the tutor. The course staff is
        otherwise unable to help debug your problem set via email - we can only address platform issues.</p>
        </section>
      </div>
    </section>
    <br/>
  </text>
</problem>
